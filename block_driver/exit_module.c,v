head	1.5;
access;
symbols;
locks
	root:1.5; strict;
comment	@ * @;


1.5
date	2015.12.19.07.33.06;	author root;	state Exp;
branches;
next	1.4;

1.4
date	2015.12.19.07.23.32;	author root;	state Exp;
branches;
next	1.3;

1.3
date	2015.12.19.06.33.52;	author root;	state Exp;
branches;
next	1.2;

1.2
date	2015.12.17.11.37.38;	author root;	state Exp;
branches;
next	1.1;

1.1
date	2015.12.17.10.10.39;	author root;	state Exp;
branches;
next	;


desc
@freed the memory acquire for data size
then unregistering our driver
@


1.5
log
@adding del_gendisk to delete gendisk structure
@
text
@#include"header.h"
#include"declaration.h"
static void __exit out(void)
{
	#ifdef DEBUG
	printk(KERN_INFO "Inside %s \n ",__func__);
	#endif
	del_gendisk(bdev->gd);
	blk_cleanup_queue(bdev->queue);
	vfree(bdev->data);
	unregister_blkdev(major,DRIVER);
	
	
	#ifdef DEBUG
	printk(KERN_INFO "Exit from %s \n",__func__);
	#endif

}
module_exit(out);
@


1.4
log
@*** empty log message ***
@
text
@d8 1
a8 1
	//del_gendisk(bdev->gd);
@


1.3
log
@deleting gendisk
@
text
@d8 1
a8 1
	del_gendisk(bdev->gd);
@


1.2
log
@to remove thr request_queue
using blk_cleanup_queue()
@
text
@d8 1
a8 1
	vfree(bdev->gd);
@


1.1
log
@Initial revision
@
text
@d8 2
a9 1

@
